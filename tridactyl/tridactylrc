" sanitise tridactyllocal tridactylsync

"
" Binds
"

" Navigation
bind J tabprev
bind K tabnext_gt
bind < tabmove -1
bind > tabmove +1
bind <C-e> scrollline 1
bind <C-y> scrollline -1

" Tree-style tabs
" unbind <F1>

" Comment toggler for Reddit and Hacker News
bind ;c hint -c [class*="expand"],[class="togg"]

" Gui
set theme dark
" guiset_quiet navbar autohide
" bind ,b :guiset gui none
" bind ,B :guiset gui full

" GitHub pull request checkout command to clipboard (only works if you're a collaborator or above)
" bind yp composite js document.getElementById("clone-help-step-1").textContent.replace("git checkout -b", "git checkout -B").replace("git pull ", "git fetch ") + "git reset --hard " + document.getElementById("clone-help-step-1").textContent.split(" ")[3].replace("-","/") | yank

"
" Misc settings
"

set allowautofocus false

" set editorcmd to suckless terminal, or use the defaults on other platforms
" js tri.browserBg.runtime.getPlatformInfo().then(os=>{const editorcmd = os.os=="linux" ? "st vim" : "auto"; tri.config.set("editorcmd", editorcmd)})

" set profile dir on Windows
" jsb browser.runtime.getPlatformInfo().then(os=>{const profiledir = os.os=="win" ? "C:\\Users\\olie\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\gwm76nmk.default" : "auto"; tri.config.set("profiledir", profiledir)})

set hintchars hjklasdfgyuiopqwertnmzxcvb
" set hintchars 4327895610
set hintfiltermode vimperator-reflow

" Make Tridactyl work on more sites at the expense of some security
set csp clobber
fixamo_quiet

" Make quickmarks for the sane Tridactyl issue view
quickmark t https://github.com/cmcaine/tridactyl/issues?utf8=%E2%9C%93&q=sort%3Aupdated-desc+

" Blacklist
blacklistadd mail.google.com/

"
" URL redirects
"

" New reddit is bad
autocmd DocStart www.reddit.com js tri.excmds.urlmodify("-t", "www", "old")

" vim: set filetype=vim:
