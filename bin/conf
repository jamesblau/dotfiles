#!/bin/bash

[ $# -ne 1 ] && echo One argument... && exit 1

case $1 in
  wh) sudo ~/dotfiles/screenlayout/work.conf.sh ;;
  wv) sudo ~/dotfiles/screenlayout/work_vert.conf.sh ;;
  wp) sudo ~/dotfiles/screenlayout/work_port.conf.sh ;;
  hh) sudo ~/dotfiles/screenlayout/home.conf.sh ;;
  hv) sudo ~/dotfiles/screenlayout/home_vert.conf.sh ;;
  d) sudo ~/dotfiles/screenlayout/default.conf.sh ;;
  *) echo Invalid layout specified... ;;
esac

sudo setxkbmap -option ctrl:nocaps
sudo modprobe -r psmouse
sudo modprobe psmouse proto=auto

sleep 1.1

stick="AlpsPS/2 ALPS DualPoint Stick"
pad="AlpsPS/2 ALPS DualPoint TouchPad"
xinput set-prop "${stick}" "Evdev Wheel Emulation" 1
xinput set-prop "${stick}" "Evdev Wheel Emulation Axes" 6 7 4 5
xinput set-prop "${stick}" "Evdev Wheel Emulation Inertia" 2
xinput set-prop "${stick}" "Evdev Wheel Emulation Timeout" 200
xinput set-prop "${stick}" "Evdev Wheel Emulation Button" 2
xinput set-prop "${stick}" "Device Accel Constant Deceleration" .17
xinput set-prop "${stick}" "Device Accel Adaptive Deceleration" 20
xinput set-prop "${stick}" "Device Accel Velocity Scaling" 1
xinput set-prop "${pad}" "Synaptics Tap Time" 0
xinput set-prop "${pad}" "Synaptics Scrolling Distance" 50, 50
xinput set-prop "${pad}" "Synaptics Edge Scrolling" 0, 0, 0
xinput set-prop "${pad}" "Synaptics Two-Finger Scrolling" 1, 1
xinput set-prop "${pad}" "Synaptics Off" 0
